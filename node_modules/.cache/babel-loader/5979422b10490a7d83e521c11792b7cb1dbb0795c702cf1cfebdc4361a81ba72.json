{"ast":null,"code":"import React,{useState}from'react';import{Navbar,Nav,Container,Button,Image,Modal}from'react-bootstrap';import{Link}from'react-router-dom';import{GoogleLogin,googleLogout}from'@react-oauth/google';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function decodeJwt(token){if(!token)return null;const base64Url=token.split('.')[1];const base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');const jsonPayload=decodeURIComponent(atob(base64).split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);}).join(''));return JSON.parse(jsonPayload);}function NavigationBar(_ref){let{theme,toggleTheme,user,setUser}=_ref;const[showLogin,setShowLogin]=useState(false);const userInfo=user&&user.credential?decodeJwt(user.credential):null;const handleAvatarClick=()=>{setShowLogin(true);};const handleClose=()=>setShowLogin(false);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{fixed:\"top\",expand:\"lg\",className:`custom-navbar shadow-sm ${theme}`,style:{background:'#fff'},children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",className:\"d-flex align-items-center gap-2 p-0 m-0\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/pixelpress-logo.png\",alt:\"PixelPress Logo\",style:{height:54,width:'auto',marginRight:0,marginLeft:0,padding:0}})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"main-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"main-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ms-auto align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/compress\",className:\"nav-link-custom\",children:/*#__PURE__*/_jsx(Button,{className:\"rounded-pill px-4 py-2 compress-btn\",children:\"Compress Image\"})}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/contact\",className:\"nav-link-custom\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle-btn btn btn-link\",onClick:toggleTheme,\"aria-label\":\"Toggle dark/light mode\",style:{fontSize:22},children:theme==='dark'?/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"Light mode\",children:\"\\uD83C\\uDF1E\"}):/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"Dark mode\",children:\"\\uD83C\\uDF19\"})}),/*#__PURE__*/_jsx(\"span\",{style:{cursor:'pointer'},onClick:handleAvatarClick,children:userInfo&&userInfo.picture?/*#__PURE__*/_jsx(Image,{src:userInfo.picture,roundedCircle:true,width:40,height:40,alt:\"Profile\"}):/*#__PURE__*/_jsx(Image,{src:\"https://ui-avatars.com/api/?name=User\",roundedCircle:true,width:40,height:40,alt:\"Profile\"})})]})})]})}),/*#__PURE__*/_jsxs(Modal,{show:showLogin,onHide:handleClose,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:userInfo?'Account':'Sign in to PixelPress'})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"text-center\",children:!userInfo?/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:credentialResponse=>{setUser(credentialResponse);setShowLogin(false);},onError:()=>{alert('Login Failed');},size:\"large\",shape:\"circle\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Image,{src:userInfo.picture,roundedCircle:true,width:60,height:60,alt:\"Profile\",className:\"mb-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[userInfo.name,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:'#888'},children:userInfo.email})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{googleLogout();setUser(null);setShowLogin(false);},children:\"Logout\"})]})})]})]});}export default NavigationBar;","map":{"version":3,"names":["React","useState","Navbar","Nav","Container","Button","Image","Modal","Link","GoogleLogin","googleLogout","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","decodeJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","NavigationBar","_ref","theme","toggleTheme","user","setUser","showLogin","setShowLogin","userInfo","credential","handleAvatarClick","handleClose","children","fixed","expand","className","style","background","Brand","as","to","src","alt","height","width","marginRight","marginLeft","padding","Toggle","Collapse","id","onClick","fontSize","role","cursor","picture","roundedCircle","show","onHide","centered","Header","closeButton","Title","Body","onSuccess","credentialResponse","onError","alert","size","shape","name","color","email"],"sources":["C:/image compressor/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Navbar, Nav, Container, Button, Image, Modal } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { GoogleLogin, googleLogout } from '@react-oauth/google';\n\nfunction decodeJwt(token) {\n  if (!token) return null;\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split('')\n      .map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      })\n      .join('')\n  );\n  return JSON.parse(jsonPayload);\n}\n\nfunction NavigationBar({ theme, toggleTheme, user, setUser }) {\n  const [showLogin, setShowLogin] = useState(false);\n  const userInfo = user && user.credential ? decodeJwt(user.credential) : null;\n\n  const handleAvatarClick = () => {\n    setShowLogin(true);\n  };\n\n  const handleClose = () => setShowLogin(false);\n\n  return (\n    <>\n      <Navbar fixed=\"top\" expand=\"lg\" className={`custom-navbar shadow-sm ${theme}`} style={{ background: '#fff' }}>\n        <Container>\n          <Navbar.Brand as={Link} to=\"/\" className=\"d-flex align-items-center gap-2 p-0 m-0\">\n            <img src=\"/pixelpress-logo.png\" alt=\"PixelPress Logo\" style={{ height: 54, width: 'auto', marginRight: 0, marginLeft: 0, padding: 0 }} />\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"main-navbar-nav\" />\n          <Navbar.Collapse id=\"main-navbar-nav\">\n            <Nav className=\"ms-auto align-items-center gap-2\">\n              <Nav.Link as={Link} to=\"/compress\" className=\"nav-link-custom\">\n                <Button className=\"rounded-pill px-4 py-2 compress-btn\">Compress Image</Button>\n              </Nav.Link>\n              <Nav.Link as={Link} to=\"/contact\" className=\"nav-link-custom\">Contact</Nav.Link>\n              <button\n                className=\"theme-toggle-btn btn btn-link\"\n                onClick={toggleTheme}\n                aria-label=\"Toggle dark/light mode\"\n                style={{ fontSize: 22 }}\n              >\n                {theme === 'dark' ? (\n                  <span role=\"img\" aria-label=\"Light mode\">ðŸŒž</span>\n                ) : (\n                  <span role=\"img\" aria-label=\"Dark mode\">ðŸŒ™</span>\n                )}\n              </button>\n              <span style={{ cursor: 'pointer' }} onClick={handleAvatarClick}>\n                {userInfo && userInfo.picture ? (\n                  <Image src={userInfo.picture} roundedCircle width={40} height={40} alt=\"Profile\" />\n                ) : (\n                  <Image src=\"https://ui-avatars.com/api/?name=User\" roundedCircle width={40} height={40} alt=\"Profile\" />\n                )}\n              </span>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      <Modal show={showLogin} onHide={handleClose} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>{userInfo ? 'Account' : 'Sign in to PixelPress'}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"text-center\">\n          {!userInfo ? (\n            <GoogleLogin\n              onSuccess={credentialResponse => {\n                setUser(credentialResponse);\n                setShowLogin(false);\n              }}\n              onError={() => {\n                alert('Login Failed');\n              }}\n              size=\"large\"\n              shape=\"circle\"\n            />\n          ) : (\n            <>\n              <Image src={userInfo.picture} roundedCircle width={60} height={60} alt=\"Profile\" className=\"mb-3\" />\n              <div className=\"mb-3\">{userInfo.name}<br /><span style={{ fontSize: 13, color: '#888' }}>{userInfo.email}</span></div>\n              <button\n                className=\"btn btn-danger\"\n                onClick={() => {\n                  googleLogout();\n                  setUser(null);\n                  setShowLogin(false);\n                }}\n              >\n                Logout\n              </button>\n            </>\n          )}\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nexport default NavigationBar; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,GAAG,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,CAAEC,KAAK,KAAQ,iBAAiB,CAC9E,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,YAAY,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhE,QAAS,CAAAC,SAASA,CAACC,KAAK,CAAE,CACxB,GAAI,CAACA,KAAK,CAAE,MAAO,KAAI,CACvB,KAAM,CAAAC,SAAS,CAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAC,MAAM,CAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAC9D,KAAM,CAAAC,WAAW,CAAGC,kBAAkB,CACpCC,IAAI,CAACJ,MAAM,CAAC,CACTD,KAAK,CAAC,EAAE,CAAC,CACTM,GAAG,CAAC,SAAUC,CAAC,CAAE,CAChB,MAAO,GAAG,CAAG,CAAC,IAAI,CAAGA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAC,CACDC,IAAI,CAAC,EAAE,CACZ,CAAC,CACD,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACV,WAAW,CAAC,CAChC,CAEA,QAAS,CAAAW,aAAaA,CAAAC,IAAA,CAAwC,IAAvC,CAAEC,KAAK,CAAEC,WAAW,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAJ,IAAA,CAC1D,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAAyC,QAAQ,CAAGJ,IAAI,EAAIA,IAAI,CAACK,UAAU,CAAG1B,SAAS,CAACqB,IAAI,CAACK,UAAU,CAAC,CAAG,IAAI,CAE5E,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BH,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAMJ,YAAY,CAAC,KAAK,CAAC,CAE7C,mBACE3B,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACElC,IAAA,CAACV,MAAM,EAAC6C,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,IAAI,CAACC,SAAS,CAAE,2BAA2Bb,KAAK,EAAG,CAACc,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAL,QAAA,cAC3GhC,KAAA,CAACV,SAAS,EAAA0C,QAAA,eACRlC,IAAA,CAACV,MAAM,CAACkD,KAAK,EAACC,EAAE,CAAE7C,IAAK,CAAC8C,EAAE,CAAC,GAAG,CAACL,SAAS,CAAC,yCAAyC,CAAAH,QAAA,cAChFlC,IAAA,QAAK2C,GAAG,CAAC,sBAAsB,CAACC,GAAG,CAAC,iBAAiB,CAACN,KAAK,CAAE,CAAEO,MAAM,CAAE,EAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,WAAW,CAAE,CAAC,CAAEC,UAAU,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAE,CAAE,CAAC,CAC7H,CAAC,cACfjD,IAAA,CAACV,MAAM,CAAC4D,MAAM,EAAC,gBAAc,iBAAiB,CAAE,CAAC,cACjDlD,IAAA,CAACV,MAAM,CAAC6D,QAAQ,EAACC,EAAE,CAAC,iBAAiB,CAAAlB,QAAA,cACnChC,KAAA,CAACX,GAAG,EAAC8C,SAAS,CAAC,kCAAkC,CAAAH,QAAA,eAC/ClC,IAAA,CAACT,GAAG,CAACK,IAAI,EAAC6C,EAAE,CAAE7C,IAAK,CAAC8C,EAAE,CAAC,WAAW,CAACL,SAAS,CAAC,iBAAiB,CAAAH,QAAA,cAC5DlC,IAAA,CAACP,MAAM,EAAC4C,SAAS,CAAC,qCAAqC,CAAAH,QAAA,CAAC,gBAAc,CAAQ,CAAC,CACvE,CAAC,cACXlC,IAAA,CAACT,GAAG,CAACK,IAAI,EAAC6C,EAAE,CAAE7C,IAAK,CAAC8C,EAAE,CAAC,UAAU,CAACL,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAC,SAAO,CAAU,CAAC,cAChFlC,IAAA,WACEqC,SAAS,CAAC,+BAA+B,CACzCgB,OAAO,CAAE5B,WAAY,CACrB,aAAW,wBAAwB,CACnCa,KAAK,CAAE,CAAEgB,QAAQ,CAAE,EAAG,CAAE,CAAApB,QAAA,CAEvBV,KAAK,GAAK,MAAM,cACfxB,IAAA,SAAMuD,IAAI,CAAC,KAAK,CAAC,aAAW,YAAY,CAAArB,QAAA,CAAC,cAAE,CAAM,CAAC,cAElDlC,IAAA,SAAMuD,IAAI,CAAC,KAAK,CAAC,aAAW,WAAW,CAAArB,QAAA,CAAC,cAAE,CAAM,CACjD,CACK,CAAC,cACTlC,IAAA,SAAMsC,KAAK,CAAE,CAAEkB,MAAM,CAAE,SAAU,CAAE,CAACH,OAAO,CAAErB,iBAAkB,CAAAE,QAAA,CAC5DJ,QAAQ,EAAIA,QAAQ,CAAC2B,OAAO,cAC3BzD,IAAA,CAACN,KAAK,EAACiD,GAAG,CAAEb,QAAQ,CAAC2B,OAAQ,CAACC,aAAa,MAACZ,KAAK,CAAE,EAAG,CAACD,MAAM,CAAE,EAAG,CAACD,GAAG,CAAC,SAAS,CAAE,CAAC,cAEnF5C,IAAA,CAACN,KAAK,EAACiD,GAAG,CAAC,uCAAuC,CAACe,aAAa,MAACZ,KAAK,CAAE,EAAG,CAACD,MAAM,CAAE,EAAG,CAACD,GAAG,CAAC,SAAS,CAAE,CACxG,CACG,CAAC,EACJ,CAAC,CACS,CAAC,EACT,CAAC,CACN,CAAC,cAET1C,KAAA,CAACP,KAAK,EAACgE,IAAI,CAAE/B,SAAU,CAACgC,MAAM,CAAE3B,WAAY,CAAC4B,QAAQ,MAAA3B,QAAA,eACnDlC,IAAA,CAACL,KAAK,CAACmE,MAAM,EAACC,WAAW,MAAA7B,QAAA,cACvBlC,IAAA,CAACL,KAAK,CAACqE,KAAK,EAAA9B,QAAA,CAAEJ,QAAQ,CAAG,SAAS,CAAG,uBAAuB,CAAc,CAAC,CAC/D,CAAC,cACf9B,IAAA,CAACL,KAAK,CAACsE,IAAI,EAAC5B,SAAS,CAAC,aAAa,CAAAH,QAAA,CAChC,CAACJ,QAAQ,cACR9B,IAAA,CAACH,WAAW,EACVqE,SAAS,CAAEC,kBAAkB,EAAI,CAC/BxC,OAAO,CAACwC,kBAAkB,CAAC,CAC3BtC,YAAY,CAAC,KAAK,CAAC,CACrB,CAAE,CACFuC,OAAO,CAAEA,CAAA,GAAM,CACbC,KAAK,CAAC,cAAc,CAAC,CACvB,CAAE,CACFC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAC,QAAQ,CACf,CAAC,cAEFrE,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACElC,IAAA,CAACN,KAAK,EAACiD,GAAG,CAAEb,QAAQ,CAAC2B,OAAQ,CAACC,aAAa,MAACZ,KAAK,CAAE,EAAG,CAACD,MAAM,CAAE,EAAG,CAACD,GAAG,CAAC,SAAS,CAACP,SAAS,CAAC,MAAM,CAAE,CAAC,cACpGnC,KAAA,QAAKmC,SAAS,CAAC,MAAM,CAAAH,QAAA,EAAEJ,QAAQ,CAAC0C,IAAI,cAACxE,IAAA,QAAK,CAAC,cAAAA,IAAA,SAAMsC,KAAK,CAAE,CAAEgB,QAAQ,CAAE,EAAE,CAAEmB,KAAK,CAAE,MAAO,CAAE,CAAAvC,QAAA,CAAEJ,QAAQ,CAAC4C,KAAK,CAAO,CAAC,EAAK,CAAC,cACtH1E,IAAA,WACEqC,SAAS,CAAC,gBAAgB,CAC1BgB,OAAO,CAAEA,CAAA,GAAM,CACbvD,YAAY,CAAC,CAAC,CACd6B,OAAO,CAAC,IAAI,CAAC,CACbE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAE,CAAAK,QAAA,CACH,QAED,CAAQ,CAAC,EACT,CACH,CACS,CAAC,EACR,CAAC,EACR,CAAC,CAEP,CAEA,cAAe,CAAAZ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}